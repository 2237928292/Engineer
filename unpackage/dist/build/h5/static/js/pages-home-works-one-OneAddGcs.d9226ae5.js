(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-works-one-OneAddGcs"],{2596:function(t,i,a){"use strict";a.d(i,"b",(function(){return s})),a.d(i,"c",(function(){return o})),a.d(i,"a",(function(){return e}));var e={uSelect:a("428f7").default,uInput:a("dcfa").default},s=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"box"},[a("v-uni-view",{staticClass:"Customer"},[a("v-uni-view",{staticClass:"Customer_Top"},[t._v("报修信息")]),a("v-uni-view",{staticClass:"Mini_list"},[a("v-uni-view",{staticClass:"Mini_list_left"},[t._v("报修单号")]),a("v-uni-view",{staticClass:"Mini_list_right"},[t._v(t._s(t.data.RequestCode))])],1),a("v-uni-view",{staticClass:"Mini_list"},[a("v-uni-view",{staticClass:"Mini_list_left"},[t._v("报修设备")]),a("v-uni-view",{staticClass:"Mini_list_right"},[t._v(t._s(t.data.ProductDes))])],1),a("v-uni-view",{staticClass:"Mini_list"},[a("v-uni-view",{staticClass:"Mini_list_left"},[t._v("序列号")]),a("v-uni-view",{staticClass:"Mini_list_right"},[t._v(t._s(t.data.SerialNumber))])],1),a("v-uni-view",{staticClass:"Mini_list"},[a("v-uni-view",{staticClass:"Mini_list_left"},[t._v("客户名称")]),a("v-uni-view",{staticClass:"Mini_list_right"},[t._v(t._s(t.data.CustomerName))])],1),a("v-uni-view",{staticClass:"Mini_list"},[a("v-uni-view",{staticClass:"Mini_list_left"},[t._v("报修人地址")]),a("v-uni-view",{staticClass:"Mini_list_right"},[t._v(t._s(t.data.Address))])],1)],1),a("v-uni-view",{staticClass:"Customer"},[a("v-uni-view",{staticClass:"Customer_Top"},[t._v("联系人信息")]),a("v-uni-view",{staticClass:"Mini_list"},[a("v-uni-view",{staticClass:"Mini_list_left"},[t._v("姓名")]),a("v-uni-view",{staticClass:"Mini_list_right"},[t._v(t._s(t.RepairManInfo.ChineseName))])],1),a("v-uni-view",{staticClass:"Mini_list"},[a("v-uni-view",{staticClass:"Mini_list_left"},[t._v("英文名")]),a("v-uni-view",{staticClass:"Mini_list_right"},[t._v(t._s(t.RepairManInfo.EnglishName))])],1),a("v-uni-view",{staticClass:"Mini_list"},[a("v-uni-view",{staticClass:"Mini_list_left"},[t._v("手机")]),a("v-uni-view",{staticClass:"Mini_list_right"},[t._v(t._s(t.RepairManInfo.MobilePhone))])],1),a("v-uni-view",{staticClass:"Mini_list"},[a("v-uni-view",{staticClass:"Mini_list_left"},[t._v("电话")]),a("v-uni-view",{staticClass:"Mini_list_right"},[t._v(t._s(t.RepairManInfo.Tel))])],1)],1),a("v-uni-view",{staticClass:"Customer"},[a("v-uni-view",{staticClass:"Customer_Top"},[t._v("基础信息")]),a("v-uni-view",{staticClass:"Mini_list"},[a("v-uni-view",{staticClass:"Mini_list_left"},[t._v("工单单号")]),a("v-uni-view",{staticClass:"Mini_list_right"},[t._v(t._s(t.data.WorkOrderCode))])],1),a("v-uni-view",{staticClass:"Mini_list"},[a("v-uni-view",{staticClass:"Mini_list_left"},[t._v("工单类型")]),a("v-uni-view",{staticClass:"Mini_list_right"},[t._v(t._s(t.data.OrderTypeStr))])],1),a("v-uni-view",{staticClass:"Mini_list"},[a("v-uni-view",{staticClass:"Mini_list_left"},[t._v("工单状态")]),a("v-uni-view",{staticClass:"Mini_list_right"},[t._v(t._s(t.data.StatusStr))])],1)],1),a("v-uni-view",{staticClass:"Customer"},[a("v-uni-view",{staticClass:"Customer_Top"},[t._v("备注")]),a("v-uni-view",{staticClass:"textarea"},[t._v(t._s(t.data.Memo))])],1),a("v-uni-view",{staticClass:"Customer"},[a("v-uni-view",{staticClass:"Customer_Top"},[t._v("故障描述")]),a("v-uni-view",{staticClass:"textarea"},[t._v(t._s(t.data.TroubleDescriptions))])],1),a("v-uni-view",{staticClass:"Customer"},[a("v-uni-view",{staticClass:"Customer_Top"},[t._v("工程师")]),a("v-uni-view",{staticClass:"textarea"},[t._v(t._s(t.Enginner))])],1),0!=this.RepairFaultImages.length?a("v-uni-text",[t._v("故障图片")]):t._e(),0!=this.RepairFaultImages.length?a("v-uni-view",{staticClass:"thisphotos"},[t._l(this.RepairFaultImages,(function(i,e){return"picture"==i.Type?a("v-uni-image",{key:e,attrs:{src:i.Path,mode:""},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.yulan(e)}}}):t._e()})),t.Videoshow?a("v-uni-image",{staticClass:"uploade-img",attrs:{src:t.icon,mode:""},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.show()}}}):t._e()],2):t._e(),a("u-select",{attrs:{mode:"single-column",list:t.selector},on:{confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.GcsHD.apply(void 0,arguments)}},model:{value:t.shows,callback:function(i){t.shows=i},expression:"shows"}}),a("u-select",{attrs:{mode:"single-column",list:t.itemList},on:{confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.GcsLX.apply(void 0,arguments)}},model:{value:t.showss,callback:function(i){t.showss=i},expression:"showss"}}),7==t.Status||8==t.Status||47==t.Status||48==t.Status?a("v-uni-text",[t._v("增派工程师")]):t._e(),7==t.Status||8==t.Status||47==t.Status||48==t.Status?a("v-uni-view",{staticClass:"view"},[a("v-uni-view",{staticClass:"tie"},[a("v-uni-text",[t._v("选择工程师")]),a("v-uni-text",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showTrue()}}},[t._v(t._s(t.Dat.name))])],1),a("v-uni-view",{staticClass:"tie"},[a("v-uni-text",[t._v("类型")]),a("v-uni-text",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showTrues()}}},[t._v(t._s(t.Dat.lei))])],1),a("v-uni-view",{staticClass:"tie"},[a("v-uni-text",[t._v("工时")]),a("u-input",{attrs:{type:"number",border:t.border},model:{value:t.Dat.time,callback:function(i){t.$set(t.Dat,"time",i)},expression:"Dat.time"}})],1),a("v-uni-button",{staticClass:"buttons",attrs:{type:"primary",size:"mini"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.but.apply(void 0,arguments)}}},[t._v("增派")])],1):t._e()],1)},o=[]},"3f44":function(t,i,a){var e=a("5686");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=a("4f06").default;s("79b0f45c",e,!0,{sourceMap:!1,shadowMode:!1})},5686:function(t,i,a){var e=a("24fb");i=e(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.box[data-v-3b495b37]{height:100%;font-size:14px;box-sizing:border-box}.box .Customer[data-v-3b495b37]{width:100%;background-color:#fff;margin-top:20px}.box .Customer .thisphotos[data-v-3b495b37]{width:100%;background-color:#fff}.box .Customer .thisphotos uni-image[data-v-3b495b37]{width:80%;display:block;margin:auto;margin-top:10px}.box .Customer .Customer_Top[data-v-3b495b37]{width:100%;height:40px;border-bottom:1px solid #c3c3c3;line-height:40px;padding-left:20px;font-weight:700;box-sizing:border-box}.box .Customer .textarea[data-v-3b495b37]{width:90%;margin:auto;margin:10px}.box .Customer .textarea .textarea[data-v-3b495b37]{text-indent:10px;font-size:14px;color:#555}.box .Customer .textarea .Quote[data-v-3b495b37]{width:100%;border-radius:10px;margin-bottom:10px;height:100px;padding-top:10px;box-sizing:border-box}.box .Customer .textarea .Quote uni-button[data-v-3b495b37]{float:right}.box .Customer .textarea .Quote .Quote_Top[data-v-3b495b37]{width:100%;height:25px}.box .Customer .textarea .Quote .Quote_Top uni-text[data-v-3b495b37]{float:right}.box .Customer .textarea .Customer_Top_Code[data-v-3b495b37]{width:100%;height:20px;border-bottom:1px solid #c8c7cc}.box .Customer .textarea .Customer_Top_Code .Customer_Top_Code_left[data-v-3b495b37]{width:50%;float:left;line-height:20px;color:#999}.box .Customer .textarea .Customer_Top_Code .Customer_Top_Code_right[data-v-3b495b37]{text-align:right;line-height:20px}.box .Customer .textarea uni-image[data-v-3b495b37]{width:100px;height:100px;margin-left:10px}.box .Customer .Mini_list[data-v-3b495b37]{width:100%;height:30px;line-height:30px;padding-left:20px;box-sizing:border-box}.box .Customer .Mini_list .Mini_list_left[data-v-3b495b37]{width:25%;height:100%;font-weight:700;float:left;font-size:12px;color:#555}.box .Customer .Mini_list .Mini_list_right[data-v-3b495b37]{width:75%;height:100%;color:grey;float:left;overflow:hidden;font-size:12px}.box[data-v-3b495b37]{width:100%;height:100%;background-color:#fff;font-size:14px}.box uni-text[data-v-3b495b37]{font-weight:700;background-color:#fff;display:block;padding:5px;border-bottom:1px solid #333}.box .wendangxinxi[data-v-3b495b37]{width:100%;height:30px;border-bottom:.5px solid #d9d9d9;background-color:#fff;padding-top:%?8?%;padding:%?8?% %?10?% 0 %?10?%;box-sizing:border-box}.box .wendangxinxi .text1[data-v-3b495b37]{float:left}.box .wendangxinxi .text2[data-v-3b495b37]{float:right}.box .view[data-v-3b495b37]{width:100%;height:200px}.box .view .zhipai[data-v-3b495b37]{width:100%}.box .view .zhipai uni-text[data-v-3b495b37]{display:block;float:left}.box .tie[data-v-3b495b37]{width:100%;height:50px;line-height:30px;padding-left:30px;box-sizing:border-box;font-size:13px}.box .tie uni-text[data-v-3b495b37]{width:120px;display:block;float:left;font-weight:none;border:none}.box .tie uni-input[data-v-3b495b37]{width:200px;float:left;display:block;margin-top:7px;border:1px solid grey;border-radius:5px;font-size:15px}.box .buttons[data-v-3b495b37]{display:block;float:right;margin-right:10%}.box .button[data-v-3b495b37]{margin-top:10px;width:80%;margin-bottom:30px}.box .bulone[data-v-3b495b37]{background-color:#4cd964;color:#fff;margin-top:30px;margin-bottom:30px}.box .cu-form-group[data-v-3b495b37]{width:100%;background:#fff;box-sizing:border-box;padding:10px;color:#999;float:left;margin:auto}.box .cu-form-group .title[data-v-3b495b37]{width:100px;display:block;float:left;color:#333}.box .cu-form-group uni-input[data-v-3b495b37]{font-size:14px}.box .thisphotos[data-v-3b495b37]{width:100%;float:left;background-color:#fff}.box .thisphotos uni-image[data-v-3b495b37]{width:100px;height:100px;display:block;margin:10px;float:left}.box .align-start .title[data-v-3b495b37]{font-weight:700}.box .align-start uni-textarea[data-v-3b495b37]{width:100%;margin-top:40px}.box .cu-form-groupas[data-v-3b495b37]{height:40px;padding:0}.box .textms[data-v-3b495b37]{padding:10px;box-sizing:border-box}.box .cu-form-group[data-v-3b495b37]{width:95%;background:#fff;border:1px solid #ccc;box-sizing:border-box;padding:10px;color:#999;margin:auto;border-radius:10px;margin-top:10px}.box .cu-form-group .title[data-v-3b495b37]{width:100px;display:block;float:left;color:#333}.box .cu-form-group uni-input[data-v-3b495b37]{font-size:14px}',""]),t.exports=i},aab0:function(t,i,a){"use strict";a.r(i);var e=a("2596"),s=a("b33d");for(var o in s)"default"!==o&&function(t){a.d(i,t,(function(){return s[t]}))}(o);a("c404");var n,r=a("f0c5"),l=Object(r["a"])(s["default"],e["b"],e["c"],!1,null,"3b495b37",null,!1,e["a"],n);i["default"]=l.exports},b33d:function(t,i,a){"use strict";a.r(i);var e=a("ddd5"),s=a.n(e);for(var o in e)"default"!==o&&function(t){a.d(i,t,(function(){return e[t]}))}(o);i["default"]=s.a},c404:function(t,i,a){"use strict";var e=a("3f44"),s=a.n(e);s.a},ddd5:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={name:"one",data:function(){return{data:{},Dat:{name:"点击选择工程师",id:"",lei:"维修",time:"0"},itemList:[{label:"维修",value:"维修"},{label:"安装",value:"安装"},{label:"保养",value:"保养"}],textareaAValue:"",CustomerId:"",RepairFaultImages:[],icon:a("a62a"),Videoshow:!1,RepairManInfo:"",selector:[],shows:!1,showss:!1,Status:0,Enginner:""}},mounted:function(){var t=this;this.initgcs(),uni.showLoading({title:"加载中"}),uni.request({url:this.$store.state.url+"WO/GetWorkOrderDetailFE",method:"GET",data:{woId:this.$store.state.codeurlid.WorkOrderId},header:{Token:this.$store.state.token},success:function(i){t.CustomerId=JSON.parse(i.data).Data.CustomerId,t.data=JSON.parse(i.data).Data.Dto,t.RepairManInfo=JSON.parse(i.data).Data.RepairManInfo,t.RepairFaultImages=JSON.parse(i.data).Data.RepairFaultImages,t.Enginner=JSON.parse(i.data).Data.Dto.Enginner;for(var a=0;a<t.RepairFaultImages.length;a++)"video"==t.RepairFaultImages[a].Type&&(t.Videoshow=!0);t.Status=JSON.parse(i.data).Data.Dto.Status,console.log(JSON.parse(i.data)),setTimeout((function(){uni.hideLoading()}),500)}})},onBackPress:function(){return uni.navigateTo({url:"./OneListLS"}),!0},methods:{showTrue:function(){this.shows=!0},showTrues:function(){this.showss=!0},GcsHD:function(t){console.log(t),this.Dat.name=t[0].label,this.Dat.id=t[0].value},GcsLX:function(t){console.log(t),this.Dat.lei=t[0].label},initgcs:function(){var t=this;uni.request({url:this.$store.state.url+"System/GetEmployeeMini",method:"GET",data:{type:"1"},header:{Token:this.$store.state.token},success:function(i){t.selector=[],console.log(i);for(var a=0;a<JSON.parse(i.data).Data.length;a++)t.selector.push({value:JSON.parse(i.data).Data[a].EmployeeId,label:JSON.parse(i.data).Data[a].Name});console.log(t.selector)}})},good:function(t){var i={url:this.$store.state.url+"WO/GotoArrive",method:"POST",header:this.$store.state.token,data:{WoId:this.$store.state.codeurlid.WorkOrderId,Status:t}};this.$http(i).then((function(t){uni.navigateTo({url:"../work.1"})}))},show:function(){this.$store.state.textVideo=this.RepairFaultImages,uni.navigateTo({url:"./textVideo"})},gcsapi:function(){var t=this;uni.request({url:this.$store.state.url+"System/GetEmployeeMini",method:"GET",data:{type:"1"},header:{Token:this.$store.state.token},success:function(i){for(var a=[],e=0;e<JSON.parse(i.data).Data.length;e++)a.push(JSON.parse(i.data).Data[e].Name);console.log(JSON.parse(i.data).Data),uni.showActionSheet({title:"选择工程师",itemList:a,success:function(e){t.Dat.name=a[e.tapIndex],t.Dat.id=JSON.parse(i.data).Data[e.tapIndex].EmployeeId}})}})},type:function(){var t=this;uni.showActionSheet({title:"选择类型",itemList:["维修","安装","保养"],success:function(i){t.Dat.lei=t.itemList[i.tapIndex]}})},but:function(){""==this.Dat.id?uni.showToast({title:"请选择工程师",icon:"none"}):""==this.Dat.lei?uni.showToast({title:"请选择类型",icon:"none"}):""==this.Dat.time?uni.showToast({title:"请输入工时",icon:"none"}):(console.log(this.Dat),uni.request({url:this.$store.state.url+"WO/WODeploy",method:"POST",data:{EnginnerId:this.Dat.id,ServiceType:this.Dat.lei,Manhour:this.Dat.time,WoId:this.$store.state.codeurlid.WorkOrderId},header:{Token:this.$store.state.token},success:function(t){uni.navigateTo({url:"../work.1"})}}))},yulan:function(t){console.log(t);var i=[];i[0]=this.RepairFaultImages[t].Path,console.log(i),uni.previewImage({urls:i})}}};i.default=e}}]);